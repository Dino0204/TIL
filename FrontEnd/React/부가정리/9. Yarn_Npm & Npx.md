## Npm

---

Node Package Manager 노드 패키지 관리자 : 전역적임

- JavaScript
- node.js의 모든 패키지, 모듈을 관리
  CLI 클라이언트 npm으로 구성됨
- Node 프로젝트의 필수 패키지 및 모듈은 npm을 사용하여 설치
- 패키지에는 모듈에 필요한 모든 파일이 포함
- 온라인 DB(Registry)와 클라이언트(Node CLI)를 통해 접근

> 모듈 : 프로젝트에 따라 포함되는 JavaScript 라이브러리

Local에 npm으로 Package 설치

```jsx
{
    "name": "Your app",
    "version":  "1.0.0",
    "scripts":  {
            "your-package":  "your-package-name"
     }
}
```

Package 실행

```jsx
$ npm run your-package-name
```

### 장단점

장점

- 패키지를 쉽게 사용 가능
- 세계 최대 규모의 패키지
- 높은 접근성 : 활성화 된 커뮤니티

단점

- 보안 이슈 : 저장소
- 버저닝 이슈 : 의존 패키지
- 패키지 수 증가에 따라서 성능 하락

## Npx

---

Node Package eXcute 노드 패키지 실행 : 일회성임

- npm을 편하기 사용하기 위해 제공하는 도구
- 패키지를 설치하지 않고 npm 레지스트리에서 원하는 패키지를 실행 할 수 있음 → 일회용 패키지
- npm 설치 시 자동으로 설치되어 있음

> Npm Registry
> node.js에서 사용하는 모듈을 등록할 수 있음
> npm 명령을 통해 Module Registry에서 필요한 모듈을 설치할 수 있음

### Npx를 사용해야 하는 이유

npm으로 패키지를 설치하는 경우

1. 전역으로 패키지 설치하여 의존성 라이브러리들을 전체적으로 관리
2. 특정 프로젝트에만 의존성 라이브러리를 설치

의존성 라이브러리를 전역, 로컬에 설치한 채 관리 했을 때 문제점

- 패키지가 업데이트 되는 경우
  - 전역으로 관리 하는 패키지 업데이트
  - 로컬로 관리 하는 패키지 업데이트
    → 관리가 쉽지 않음

번거롭게 수동적으로 설치, 업데이트를 하지 않더라도 npm 레지스트리에 올라간 최신 버전을 실행, 설치만 하면 간편하게 관리할 수 있음

### Npx를 사용하는 경우

- npm run-script를 사용하지 않고 로컬 패키지를 사용할 경우
- 일회성 패키지로 사용하는 경우
- git-based script를 실행하는 경우
- 특정 노드 버전의 스크립트를 실행하는 경우

## Yarn

---

Yet Another Resource Negotiator

- JavaScript Package Manager (Made by FaceBook)
- npm과 같은 기능 수행
- npm의 단점을 보완
  - 속도
  - 안정성
  - 보안성

## Npm vs Yarn

---

### 속도

- npm : 순차적으로 처리
- Yarn : 패키지 데이터를 캐시에 저장
  → 중복된 데이터는 다운로드x
  → 캐시에 저장된 파일 활용
  → npm에 비해 패키지 설치속도가 매우 빠름
- 패키지 설치 시 병렬처리를 수행하여 속도와 안정성 증가

### 안정성 / 보안성

- npm : 패키지 설치 시 자동으로 코드와 의존성 허용
  → 편리하지만 안정성을 위협함
  → 보장된 정책없이 등록된 패키지가 존재가능
- Yarn : 모든 장치에서 같은 패키지를 설치하는 것을 보장
  → 버전 차이로 인한 버그를 방지함

### Npm vs Yarn

- npm

  - 설치 : Node 설치 시 자동 설치
  - 파일 : Package-lock.json 파일 생성
    → 결정성 & 단순성 사이의 균형 때문에 복잡함
    → 복잡성으로 인해 다른 npm 버전에 대해 동일한 node_modules 폴더 생성
  - 모든 종속성은 위 파일에 연관된 버전 번호를 가지고 있음
  - 출력로그 : 방대한 로그 → 더러움
  - 전역 종속성 설치
    → npm install을 통해 레지스트리에서 가져옴
    ```jsx

        npm install -g package_name@version_number
        ```

- yarn
  - 설치 : npm 설치 후 yarn 설치
  - 파일 : Yarn.lock 파일 생성
    → 쉬운 병합에 도움이 됨
    → 위 파일의 디자인 때문에 병합 예측이 가능함
  - 출력로그 : 깨긋한 로그 → 트리형식으로 정렬
  - 전역 종속성 설치
    →종속성을 로컬에 저장
    →yarn add을 통해 디스크에서 가져옴
    `jsx
    yarn global add package_name@version_number
    `

### 무엇을 사용해야 할까?

npm과 yarn을 비교하면 성능적으로는 yarn이 약우세이지만

npm은 대규모 커뮤니티를 보유하고 있기 때문에 대체적으로 npm을 사용하는 것이 타당하다.

## 참고자료

- https://youngmin.hashnode.dev/npm-npx
- https://youngmin.hashnode.dev/npm-yarn
